<?xml version="1.0" encoding="UTF-8"?>
<hdevelop file_version="1.2" halcon_version="13.0.2.2">
<procedure name="main">
<interface/>
<body>
<c></c>
<l>* dev_open_file_dialog ('read_image', 'dir', 'default', Selection)</l>
<l>* file_name:= Selection + '/'</l>
<l> file_name:='E:/cong viec 09 03 2020/2019.03.23/2019.03.23/'</l>
<l> file_name:='E:/cong viec 09 03 2020/SUPERAMP_EXAMPLE/B_superamp_fail/B/'</l>
<l>file_name_0:= 'HP_FCI_THA1_Pos1_B1'</l>
<l>file_name_1:= 'HP_FCI_THA1_Pos1_B2'</l>
<l>file_name_2:= 'HP_FCI_THA1_Pos1_B3'</l>
<c></c>
<l>file_name_3:= 'HP_FCI_THA1_Pos4_B1'</l>
<l>file_name_4:= 'HP_FCI_THA1_Pos4_B2'</l>
<l>file_name_5:= 'HP_FCI_THA1_Pos4_B3'</l>
<c></c>
<c></c>
<l>file_names.at(0):= file_name_0</l>
<l>file_names.at(1):= file_name_1</l>
<l>file_names.at(2):= file_name_2</l>
<c></c>
<l>file_names.at(3):= file_name_3</l>
<l>file_names.at(4):= file_name_4</l>
<l>file_names.at(5):= file_name_5</l>
<c></c>
<l>first_file:= 2720817127</l>
<l>end_file:= 2720817184</l>
<l>Gauss_sig1:= 3</l>
<l>select_big_min:= 1200</l>
<l>select_big_max:= 1800</l>
<l>crop_plus_Y:= 220</l>
<l>crop_plus_X:= 220</l>
<l>thres_big_min:=140</l>
<l>thres_big_max:=255</l>
<l>Thres_min_2:= 0</l>
<l>Thres_max_2:= 25</l>
<l>Thres_min_image1:=220</l>
<l>Thres_max_image1:=255</l>
<l>Thres_min_image2:=80</l>
<l>Thres_max_image2:=255</l>
<l>closing_value:=5</l>
<l>shape_area_remove:=500</l>
<l>smooth_value:=53</l>
<l>shape_width_select:=500</l>
<l>opening_value_final:=10</l>
<l>for i:=first_file to end_file by 1</l>
<c>    </c>
<l>    path_0:= file_name + i + '/' + file_name_0 + '.bmp'</l>
<l>    path_1:= file_name + i + '/' + file_name_1 + '.bmp'</l>
<l>    path_2:= file_name + i + '/' + file_name_2 + '.bmp'  </l>
<c>    </c>
<l>    path_3:= file_name + i + '/' + file_name_3 + '.bmp'</l>
<l>    path_4:= file_name + i + '/' + file_name_4 + '.bmp'</l>
<l>    path_5:= file_name + i + '/' + file_name_5 + '.bmp'   </l>
<c>        </c>
<l>    read_image (Image.at(0), path_0) </l>
<l>    read_image (Image.at(1), path_1)</l>
<l>    read_image (Image.at(2), path_2)</l>
<c>    </c>
<l>    read_image (Image.at(3), path_3) </l>
<l>    read_image (Image.at(4), path_4)</l>
<l>    read_image (Image.at(5), path_5)</l>
<c>   </c>
<c>    </c>
<c>    * encap bottom top</c>
<c>    </c>
<l>    rectangle1_domain (Image.at(1), ImageReduced, 150.689, 127.986, 1000.77, 1977.04)</l>
<l>    gen_rectangle1 (Rectangle, 30, 20, 100, 200)</l>
<l>    threshold (ImageReduced, Region, thres_big_min, thres_big_max)</l>
<l>    connection (Region, Connection)</l>
<c>    </c>
<l>    select_shape (Connection, SelectedRegions3, 'area', 'and', 400000, 2000000)</l>
<l>    boundary (SelectedRegions3, RegionBorder, 'inner')</l>
<l>    select_obj (RegionBorder, ObjectSelected, 1)</l>
<l>    get_region_points (ObjectSelected, Rows1, Columns1)</l>
<c>    </c>
<l>    tuple_max (Rows1, Y_max)</l>
<l>    tuple_min (Rows1, Y_min)</l>
<l>    tuple_max (Columns1, X_right)</l>
<l>    tuple_min (Columns1, X_left)</l>
<c>    </c>
<l>*     Y_1:=Y_min-crop_plus_Y</l>
<l>*     Y_2:=Y_min</l>
<c>    </c>
<l>*     X_right_1:=X_right-crop_plus_X+100</l>
<l>*     X_right_2:=X_right+crop_plus_X</l>
<c></c>
<l>*     X_left_1:= X_left-crop_plus_X</l>
<l>*     X_left_2:= X_left+crop_plus_X-100</l>
<l>    XY:=[Y_min-crop_plus_Y,Y_min,X_right-crop_plus_X+100,X_right+crop_plus_X,X_left-crop_plus_X,X_left+crop_plus_X-100]</l>
<l>  gen_rectangle1 (Rectangle1,XY[0], XY[4] ,XY[1], XY[5])</l>
<l>  gen_rectangle1 (Rectangle2, XY[0], XY[2] ,XY[1], XY[3])</l>
<c>    </c>
<l>  union2(Rectangle1, Rectangle2, RegionUnion)</l>
<l>  reduce_domain (ImageReduced, RegionUnion, Image_left_right)</l>
<l>  edges_sub_pix (Image_left_right, Edges, 'canny',5, 10, 15)</l>
<l>  select_obj (Edges, ObjectSelected4,4)</l>
<l>  select_obj (Edges, ObjectSelected106,106)</l>
<l>intersection_contours_xld (ObjectSelected4, ObjectSelected106, 'all', Rowc, Columnc, IsOverlapping)</l>
<l>  threshold (Image_left_right, Region1, 0, 157)</l>
<l>  reduce_domain (Image_left_right, Region1, ImageReduced2)</l>
<c>  </c>
<c>  </c>
<l>  threshold (ImageReduced2, Regions, 0, 30)</l>
<l>  dilation_rectangle1 (Regions, RegionDilation, 3, 11)</l>
<c>   </c>
<l>    dev_clear_window()</l>
<l>    dev_display(Image_left_right)</l>
<l>    dev_display(Edges)</l>
<l>         stop()</l>
<l>endfor</l>
</body>
<docu id="main">
<parameters/>
</docu>
</procedure>
</hdevelop>
